@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminManageLayout.cshtml";
} 
<table class="layui-table" lay-data="{ url:'/Admin/ChargeCard/Pagelist', page:true, id:'idTest'}"
    lay-filter="demo">
    <thead>
        <tr>
            <th lay-data="{type:'checkbox', fixed: 'left'}">
            </th>
            <th lay-data="{field:'ID', width:80, fixed: true}">
                ID
            </th>
            <th lay-data="{field:'TicketTypeName', }">
                凭据类型
            </th>
            <th lay-data="{field:'Sort'}">
                排序
            </th>
            <th lay-data="{field:'CreateBy'}">
                添加人
            </th>
            <th lay-data="{field:'CreateIP'}">
                添加IP
            </th>
            <th lay-data="{field:'CreateTime'}">
                添加时间
            </th>
            <th lay-data="{field:'UpdateBy'}">
                更新人
            </th>
            <th lay-data="{field:'UpdateIP'}">
                更新IP
            </th>
            <th lay-data="{field:'UpdateTime'}">
                更新时间
            </th>
            <th lay-data="{field:'StatusStr'}">
                状态
            </th>
        </tr>
    </thead>
</table>
<script type="text/javascript">

    var moduleKey = "CustomChargeCard";
    var moduleName = "客户充卡";
    //js初始化
    layui.use(['table', 'form', 'layedit', 'laydate'], function () {
        var ajaxUrl = "/Admin/" + moduleName + "/";
        var table = layui.table
            , form = layui.form
            , $ = layui.$



        //监听搜索
        form.on('submit(LAY-app-contlist-search)', function (data) {
            var field = data.field;
            //执行重载
            table.reload('idTest', {
                where: field
            });
        });

        //监听表格复选框选择
        table.on('checkbox(demo)', function (obj) {
            console.log(obj)
        });

        //头部操作按钮
        $('.demoTable .layui-btn').on('click', function () {
            var type = $(this).data('type');

            //js初始化 
            Init(moduleKey, moduleName, type, table, form, $); 
            //active[type] ? active[type].call(this) : '';
        });

         
    });

</script>
